<!DOCTYPE html>
<html lang="ko">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>localStorage TEST</title>

	<style>
		body { padding-top: 100px; background-color: darkgreen; text-align: right; }
	</style>
</head>
<body>
	<div class="login-set">
		<input type="text" id="user" value="">
		<input type="password" name="" id="pw1" value="">
	</div>

	<div class="btn-wrap">
		<button type="button" id="btnAdd">add localStorage</button>
		<button type="button" id="btnRemove">remove localStorage</button>
	</div>

	<script>
		const btnAdd = document.querySelector('#btnAdd');
		const btnRemove = document.querySelector('#btnRemove')

		const target01 = document.querySelector('#user');
		const target02 = document.querySelector('#pw1');

		let userValue,
			pwValue,
			userInfo,
			keyName;
		let num = 0;

		const addLocalStorage = ()=> {
			userValue = target01.value;
			pwValue = target02.value;
			userInfo = { id: userValue, pw: pwValue }

			if(localStorage.length > 0) {
				num = localStorage.length;
			}

			num = ++num;
			keyName = ['UserInfo'+num]

			localStorage.setItem(keyName, JSON.stringify(userInfo));


			// console.log(localStorage.getItem(keyName));
			// console.log(localStorage.userInfo1);
			// console.log(JSON.parse(localStorage.userInfo1));
		}

		const resetValue = () => {
			target01.value = "";
			target02.value = "";
		}


		btnAdd.addEventListener("click", () => {
			addLocalStorage();
			resetValue();
		})
		btnRemove.addEventListener("click", ()=> {
			localStorage.clear(); num = 0;
		})

		target02.addEventListener("keydown", (e) => {
			if( e.keyCode == 13 ) {
				btnAdd.click();
				target01.focus();
			}
		})

		if ( localStorage.length ) { console.log(true); } else { console.log(false); }





let textFn = `const fnUserInfo = function() {
	const $target01 = document.querySelector('#id');
	const $target02 = document.querySelector('#pw');
	const _id = $target01.value;
	const _pw = $target02.value;

	let value00 = { id: _id, pw: _pw }
	localStorage.setItem('userInfo', JSON.stringify(value00));
};

document.querySelector('#pw').addEventListener("keydown", fnUserInfo);`
localStorage.setItem('userInfo', textFn);



	</script>
</body>
</html>