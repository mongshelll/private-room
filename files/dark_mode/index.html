<!DOCTYPE html>
<html lang="ko">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Dark Theme 적용</title>

	<!-- only css -->
	<!-- <link rel="stylesheet" href="style.css"> -->

	<!-- scss -->
	<link rel="stylesheet" href="css/uiux/style.css">

</head>
<body>
	<div class="layout">
		<div class="header">
			<div class="header-area">
				<h1>dark theme test</h1>

				<p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Aliquid, obcaecati.</p>

				<div class="btn-theme">
					<div class="se-switch ty-02">
						<input type="checkbox" id="sw01">
						<label for="sw01"></label>
					</div>
				</div>

				<button type="button" class="btn-browser-setting">브라우저 설정</button>
			</div>
		</div>

		<div class="container">
			<div class="contents_area">
				<div class="content">
					<div class="cont01">
						<div class="box">Lorem ipsum dolor, sit amet consectetur adipisicing elit. Officiis, eum.</div>
						<div class="box">Lorem ipsum dolor, sit amet consectetur adipisicing elit. Officiis, eum.</div>
						<div class="box">Lorem ipsum dolor, sit amet consectetur adipisicing elit. Officiis, eum.</div>
						<div class="box">Lorem ipsum dolor, sit amet consectetur adipisicing elit. Officiis, eum.</div>
					</div>
				</div>
			</div>
		</div>
	</div>

	<script>

		var $body = document.querySelector('body'),
			$btnThemeWrap = document.querySelector('.btn-theme'),
			$btnTheme = $btnThemeWrap.querySelector('.se-switch.ty-02 > input'),
			$btnBrowserSetting = document.querySelector('.btn-browser-setting');

		// 버튼클릭으로 테마설정 변경
		$btnTheme.addEventListener('click', function() {
			$btnTheme.checked ? $body.setAttribute('data-theme', 'dark') : $body.setAttribute('data-theme', 'light');
		});

		// 기본 브라우저 설정테마로 변경
		$btnBrowserSetting.addEventListener('click', function() {
			$body.setAttribute('data-theme', 'browser-setting');

			// 기본 브라우저 설정에 따른 버튼상태 변경
			window.matchMedia('(prefers-color-scheme: dark)').matches ? $btnTheme.checked = true : $btnTheme.checked = false;
		});

		// 테마버튼을 초기 설정상태 테마에 반영하기
		if ( window.matchMedia ('(prefers-color-scheme: dark)').matches ) $btnTheme.checked = true;

	</script>
</body>
</html>