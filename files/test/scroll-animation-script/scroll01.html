<!DOCTYPE html>
<html lang="ko">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">

	<title>HTML Sample</title>

	<!-- CSS -->
	<!-- <link rel="stylesheet" href="../../../resource/css/sourceguide.css">
	<link rel="stylesheet" href="../../../resource/css/atom-one-dark.min.css"> -->

	<!-- JS -->
	<!-- <script src="../../../../z_micro_interaction/library/jquery-3.6.0.min.js"></script>
	<script src="../../../resource/js/highlight.min.js"></script> -->

	<!-- 구현 SCSS 코드작성 -->
	<!-- <script id="scss">
		var style = `

		`;
	</script> -->
	<!-- //구현 SCSS 코드작성 -->

	<!-- 구현 CSS 코드작성 -->
	<style>
* {
	margin: 0;
	padding: 0;
}

/* 레이아웃 */
section {
	display: flex;
	justify-content: space-evenly;
	align-items: center;
	align-content: center;
	flex-wrap: wrap;
	position: relative;
	width: 100%;
	height: 100vh;
	padding: 54px 18px;
	box-sizing: border-box;
	background-color: #fff;
}

section:nth-child(2n) {
	background-color: #EEF1FF;
}

section h2,
section h3 {
	width: 100%;
	color: #6F38C5;
}

section h3 {
	margin-bottom: 40px;
}

section .nav {
	display: inline-block;
	position: absolute;
	left: 50%;
	bottom: 10px;
	width: 30px;
	height: 40px;
	border: 1px solid #6F38C5;
	border-radius: 20px;
	box-sizing: border-box;
	text-align: center;
	line-height: 38px;
	color: #6F38C5;
	animation: navAni 1.2s ease-in-out infinite;
}

@keyframes navAni {
	0% {
		bottom: 10px;
	}
	50% {
		bottom: 20px;
	}
	100% {
		bottom: 10px;
	}
}

/* 콘텐츠 */
.box {
	width: 100px;
	height: 100px;
	line-height: 100px;
	border-radius: 10px;
	text-align: center;
	color: #16213E;
	background: linear-gradient(to right,#AAC4FF, #D2DAFF);
}


/* 애니메이션 */
[data-ani="on"] {
	opacity: 0;
	transition: opacity 1s, transform 1s;
}

/* 애니메이션 - 슬라이드 */
[data-ani="on"].slideInUp {
	transform: translateY(40px);
}
[data-ani="on"].slideInUp.ani-on {
	opacity: 1;
	transform: translateY(0);
}

[data-ani="on"].slideInDown {
	transform: translateY(-40px);
}
[data-ani="on"].slideInDown.ani-on {
	opacity: 1;
	transform: translateY(0);
}

[data-ani="on"].slideInLeft {
	transform: translateX(-40px);
}
[data-ani="on"].slideInLeft.ani-on {
	opacity: 1;
	transform: translateX(0);
}

[data-ani="on"].slideInRight {
	transform: translateX(40px);
}
[data-ani="on"].slideInRight.ani-on {
	opacity: 1;
	transform: translateX(0);
}

/* 애니메이션 - 줌인 */
[data-ani="on"].zoomIn {
	transform: scale(0.75);
}
[data-ani="on"].zoomIn.ani-on {
	opacity: 1;
	transform: scale(1);
}

/* 애니메이션 - 줌아웃 */
[data-ani="on"].zoomOut {
	transform: scale(1.25);
}
[data-ani="on"].zoomOut.ani-on {
	opacity: 1;
	transform: scale(1);
}

/* 애니메이션 - 페이드인 */
[data-ani="on"].fadeIn {
	opacity: 0;
}
[data-ani="on"].fadeIn.ani-on {
	opacity: 1;
}

/* 애니메이션 - 플립 */
[data-ani="on"].flip {
	opacity: 0;
	transform: perspective(90vw) rotateY(67.50deg);
}
[data-ani="on"].flip.ani-on {
	opacity: 1;
	transform: none;
}

.test{ width: 20px; height: 20px; background: red; }
	</style>
	<!-- //구현 CSS 코드작성 -->
</head>
<body>
	<div id="layout">
		<!-- 구현 HTML 코드작성 -->
		<!-- 요소 가운데정렬 해제하고 싶으면 .align-center 제거 -->
		<div id="codeResult" class="_align-center">
<div class="contents">
	<section>
		<h2>
			<b>Animate</b><br>
			On Scroll
		</h2>

		<div class="nav">↓</div>
	</section>
	<section>
		<h3>Slide Animation</h3>
		<div class="box slideInUp" data-ani="on">slideInUp</div>
		<div class="box slideInDown" data-ani="on">slideInDown</div>
		<div class="box slideInLeft" data-ani="on">slideInLeft</div>
		<div class="box slideInRight" data-ani="on">slideInRight</div>
	</section>
	<section>
		<h3>Zoom Animation</h3>
		<div class="box zoomIn" data-ani="on">zoomIn</div>
		<div class="box zoomIn" data-ani="on">zoomIn</div>
		<div class="box zoomIn" data-ani="on">zoomIn</div>
		<div class="box zoomIn" data-ani="on">zoomIn</div>
	</section>
	<section>
		<h3>Reverse Zoom Animation</h3>
		<div class="box zoomOut" data-ani="on">zoomOut</div>
		<div class="box zoomOut" data-ani="on">zoomOut</div>
		<div class="box zoomOut" data-ani="on">zoomOut</div>
		<div class="box zoomOut" data-ani="on">zoomOut</div>
	</section>
	<section>
		<h3>Fade Animation</h3>
		<div class="box fadeIn" data-ani="on">fadeIn</div>
		<div class="box fadeIn" data-ani="on">fadeIn</div>
		<div class="box fadeIn" data-ani="on">fadeIn</div>
		<div class="box fadeIn" data-ani="on">fadeIn</div>
	</section>
	<section>
		<h3>Flip Animation</h3>
		<div class="box flip" data-ani="on">Flip</div>
		<div class="box flip" data-ani="on">Flip</div>
		<div class="box flip" data-ani="on">Flip</div>
		<div class="box flip" data-ani="on">Flip</div>
	</section>
</div>
		</div>
		<!-- //구현 HTML 코드작성 -->
	</div>

	<!-- 구현 JS 코드작성 -->
	<script id="script">
const lazyLoading = (function(){
	const frames = document.querySelectorAll('[data-ani="on"]');
	return {
		observer : function(){
			const options = {
				// rootMargin: '200px 0px',
				threshold: 0.8
			}

			// 한번에 작성하는 방법
			// IntersectionObserver 를 등록한다.
			const io = new IntersectionObserver(entries => {
				entries.forEach(el => {
					// 관찰 대상이 viewport 안에 들어온 경우 toggle
					// el.target.classList.toggle('ani-on', el.isIntersecting);

					// 관찰 대상이 viewport 안에 들어온 경우 addClass
					if (el.isIntersecting) {
						el.target.classList.add('ani-on')
						console.log(el.isIntersecting);
					} else {
						el.target.classList.remove('ani-on')
					}
				})
			}, options)


			// 콜백을 따로 빼서 작성하기
			// const callback = (entries => {
			// 	entries.forEach(el => {
			// 		// 관찰 대상이 viewport 안에 들어온 경우 toggle
			// 		// el.target.classList.toggle('ani-on', el.isIntersecting);

			// 		// 관찰 대상이 viewport 안에 들어온 경우 addClass
			// 		if (el.isIntersecting) {
			// 			el.target.classList.add('ani-on')
			// 			console.log(el.isIntersecting);
			// 		} else {
			// 			el.target.classList.remove('ani-on')
			// 		}
			// 	})
			// })

			// const io = new IntersectionObserver(callback, options)

			// 관찰할 대상을 선언하고, 해당 속성을 관찰시킨다.
			frames.forEach(el => io.observe(el));
		}
	}
})()

lazyLoading.observer();
	</script>
	<!-- //구현 JS 코드작성 -->

	<!-- 필수 script -->
	<!-- <script src="../../../resource/js/sourceguide.js"></script> -->
	<!-- <script>hljs.highlightAll();</script> -->
	<!-- 필수 script -->
</body>
</html>
